<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kotobako</title>
    <meta name="description" content="서버리스(Serverless) 기반의 개인 맞춤형 일본어 단어 학습 웹 애플리케이션">
    <link rel="icon" type="image/png" href="ico.png">
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="aetherial-light"> <!-- 기본 테마 설정 -->

    <!-- ====== Header ====== -->
    <header id="main-header">
        <div class="container">
            <div class="logo">
                <a href="#" id="logo-link">Kotobako</a>
            </div>
            <div class="header-center">
                <div id="level-selector">
                    <div class="level-options">
                        <div class="selection-highlighter-container"></div>
                        <input type="checkbox" id="level-n5" name="level" value="N5" checked>
                        <label for="level-n5">N5</label>
                        <input type="checkbox" id="level-n4" name="level" value="N4">
                        <label for="level-n4">N4</label>
                        <input type="checkbox" id="level-n3" name="level" value="N3">
                        <label for="level-n3">N3</label>
                        <input type="checkbox" id="level-n2" name="level" value="N2">
                        <label for="level-n2">N2</label>
                        <input type="checkbox" id="level-n1" name="level" value="N1">
                        <label for="level-n1">N1</label>
                    </div>
                </div>
            </div>
            <nav id="main-nav">
            </nav>
        </div>
    </header>

    <!-- ====== Main Content ====== -->
    <main>
        <div class="container">
            <!-- 초기화면 섹션 -->
            <section id="home-section" class="content-section">
                <h2 id="greeting" class="home-greeting"></h2>
                <div class="menu-grid">
                    <a href="#" class="menu-tile" data-section="study-section">
                        <div class="tile-icon"><svg><use href="icons.svg#icon-sprout"></use></svg></div>
                        <h3 class="tile-title">단어 공부</h3>
                        <p class="tile-description">플래시카드로 단어를 외웁니다.</p>
                    </a>
                    <a href="#" class="menu-tile disabled" data-section="wordbook-section">
                        <div class="tile-icon"><svg><use href="icons.svg#icon-bookmark-check"></use></svg></div>
                        <h3 class="tile-title">내 단어장</h3>
                        <p class="tile-description">나만의 단어장을 관리합니다. (준비중)</p>
                    </a>
                    <a href="#" class="menu-tile disabled" data-section="quiz-section">
                        <div class="tile-icon"><svg><use href="icons.svg#icon-medal"></use></svg></div>
                        <h3 class="tile-title">퀴즈</h3>
                        <p class="tile-description">퀴즈로 실력을 시험해 보세요. (준비중)</p>
                    </a>
                    <a href="#" class="menu-tile disabled" data-section="kana-section">
                        <div class="tile-icon"><svg><use href="icons.svg#icon-case-sensitive"></use></svg></div>
                        <h3 class="tile-title">가나 공부</h3>
                        <p class="tile-description">히라가나/가타카나를 외웁니다. (준비중)</p>
                    </a>
                    <a href="#" class="menu-tile" data-section="stats-section">
                        <div class="tile-icon"><svg><use href="icons.svg#icon-chart-line"></use></svg></div>
                        <h3 class="tile-title">통계</h3>
                        <p class="tile-description">일별 학습 기록을 확인합니다.</p>
                    </a>
                    <a href="#" class="menu-tile disabled" data-section="about-section">
                        <div class="tile-icon"><svg><use href="icons.svg#icon-message-more"></use></svg></div>
                        <h3 class="tile-title">About</h3>
                        <p class="tile-description">Kotobako를 소개합니다.</p>
                    </a>
                </div>
            </section>

            <!-- 학습 섹션 (플래시카드) -->
            <section id="study-section" class="content-section" style="display: none;">
                <div class="study-area">
                    <button id="prev-word-btn" class="control-btn nav-btn" title="이전 단어 (←)">
                        <svg width="24" height="24"><use href="icons.svg#icon-arrow-left"></use></svg>
                    </button>
                    <div class="study-main">
                        <div class="word-level-indicator"></div>
                        <div class="difficulty-selector">
                            <div class="difficulty-options">
                                <div class="difficulty-highlighter-container"></div>
                                <input type="radio" id="diff-easy" name="difficulty" value="easy">
                                <label for="diff-easy">쉬움</label>
                                <input type="radio" id="diff-normal" name="difficulty" value="normal" checked>
                                <label for="diff-normal">보통</label>
                                <input type="radio" id="diff-hard" name="difficulty" value="hard">
                                <label for="diff-hard">어려움</label>
                            </div>
                        </div>
                        <div id="flashcard-container">
                            <div class="flashcard-message">단어 데이터를 불러오는 중입니다...</div>
                        </div>
                    </div>
                    <button id="next-word-btn" class="control-btn nav-btn" title="다음 단어 (→)">
                        <svg width="24" height="24"><use href="icons.svg#icon-arrow-right"></use></svg>
                    </button>
                </div>
                <div class="study-controls">
                    <div class="shortcut-guide">
                        <kbd>←</kbd> <kbd>→</kbd> 이동　 <kbd>Space</kbd> 뒤집기
                    </div>
                    <div class="study-options">
                        <button id="furigana-btn" class="control-btn option-btn" title="후리가나 켜기/끄기">ふ</button>
                        <button id="shuffle-btn" class="control-btn option-btn" title="지능형 랜덤 (난이도 가중치 적용)">
                            <svg width="20" height="20"><use href="icons.svg#icon-shuffle"></use></svg>
                        </button>
                        <button id="autospeak-btn" class="control-btn option-btn" title="자동 재생">
                            <svg class="icon-on" width="20" height="20"><use href="icons.svg#icon-volume-on"></use></svg>
                            <svg class="icon-off" width="20" height="20" style="display: none;"><use href="icons.svg#icon-volume-off"></use></svg>
                        </button>
                    </div>
                </div>
            </section>
            
            <section id="wordbook-section" class="content-section" style="display: none;"></section>
            <section id="quiz-section" class="content-section" style="display: none;"></section>
            <section id="kana-section" class="content-section" style="display: none;"></section>
            <section id="stats-section" class="content-section" style="display: none;">
                <div class="stats-header">
                    <h2 id="stats-greeting"></h2>
                    <button id="change-name-btn" class="text-btn">이름 변경</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>총 학습일</h4>
                        <p id="total-study-days">0일</p>
                        <p id="consecutive-days-detail" class="stat-detail"></p>
                    </div>
                    <div class="stat-card">
                        <h4>본 카드 수</h4>
                        <p id="total-cards-viewed">0개</p>
                        <p id="today-cards-viewed-detail" class="stat-detail"></p>
                    </div>
                    <div class="stat-card">
                        <h4>푼 퀴즈 수</h4>
                        <p id="total-quizzes-played">0개</p>
                    </div>
                </div>
                <!-- [추가] 차트가 그려질 영역 -->
                <div class="chart-container">
                    <canvas id="cards-viewed-chart"></canvas>
                </div>
            </section>
            <section id="about-section" class="content-section" style="display: none;"></section>
        </div>
    </main>

    <!-- ====== Footer ====== -->
    <footer>
        <div class="container">
            <p class="copyright">© <span id="current-year">2024</span> <a href="https://heavyrain39.github.io/portfolio/" target="\_blank">야차완</a>. All Rights Reserved.</p>
            <div class="theme-selector">
                <button class="theme-btn" data-theme="aetherial-light" title="Light Theme"><div class="color-patch"></div></button>
                <button class="theme-btn" data-theme="nordic-noir" title="Dark Theme"><div class="color-patch"></div></button>
            </div>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- [추가] Chart.js 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="js/main.js"></script>

</body>
</html>